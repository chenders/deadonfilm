# TMDB API Token (required)
# Get yours at https://www.themoviedb.org/settings/api
TMDB_API_TOKEN=your_tmdb_api_token_here

# Anthropic API Key (required for accurate cause of death lookups)
# Get yours at https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-...

# Server port (optional, defaults to 8080)
PORT=8080

# PostgreSQL connection string (optional for local dev, required for Docker)
# For Docker Compose, this is set automatically
# DATABASE_URL=postgresql://deadonfilm:deadonfilm@localhost:5432/deadonfilm

# Redis connection (optional - caching disabled if not set)
# For Docker Compose, this is set automatically
# REDIS_URL=redis://localhost:6379

# =============================================================================
# Death Information Sources (all optional)
# =============================================================================
# These API keys enable additional data sources for actor death information.
# The enrichment system works without them but will have fewer sources to query.

# --- AI Providers (ordered by cost, cheapest first) ---

# Google AI (Gemini) - ~$0.0001/query (cheapest)
# Get yours at https://makersuite.google.com/app/apikey
# GOOGLE_AI_API_KEY=

# Groq (Llama) - ~$0.0002/query (fast Llama inference)
# Get yours at https://console.groq.com/keys
# GROQ_API_KEY=

# OpenAI (GPT-4o Mini & GPT-4o) - ~$0.0003-$0.01/query
# Get yours at https://platform.openai.com/api-keys
# OPENAI_API_KEY=sk-...

# DeepSeek - ~$0.0005/query
# Get yours at https://platform.deepseek.com/api_keys
# DEEPSEEK_API_KEY=

# Mistral - ~$0.001/query (European training data)
# Get yours at https://console.mistral.ai/api-keys
# MISTRAL_API_KEY=

# Perplexity - ~$0.005/query (has web search!)
# Get yours at https://www.perplexity.ai/settings/api
# PERPLEXITY_API_KEY=pplx-...

# xAI (Grok) - ~$0.005/query (has X/Twitter data!)
# Get yours at https://console.x.ai/
# XAI_API_KEY=

# --- News Sources ---

# NewsAPI - News aggregator (80,000+ sources)
# Free tier: 100 requests/day (450 in development)
# Get yours at https://newsapi.org/register
# NEWSAPI_KEY=

# --- Historical Archives ---

# Trove (National Library of Australia) - Australian newspaper archives
# Free API key required
# Get yours at https://trove.nla.gov.au/about/create-something/using-api
# TROVE_API_KEY=

# Europeana - European digital archives
# Free API key required
# Get yours at https://pro.europeana.eu/page/get-api
# EUROPEANA_API_KEY=

# =============================================================================
# Browser Fetching (for bot-protected sites like NYTimes, WashPost)
# =============================================================================
# Many major news sites block regular HTTP requests with bot detection.
# Browser fetching uses Playwright to render pages like a real browser,
# bypassing these blocks to access obituaries and death-related articles.
#
# PROTECTED SITES (browser used automatically):
#   - nytimes.com        - New York Times
#   - washingtonpost.com - Washington Post
#   - wsj.com            - Wall Street Journal
#   - latimes.com        - Los Angeles Times
#   - bostonglobe.com    - Boston Globe
#   - ft.com             - Financial Times
#   - economist.com      - The Economist
#   - bloomberg.com      - Bloomberg
#
# SETUP (one-time):
#   1. Install Playwright browsers:
#      cd server && npx playwright install chromium
#
#   2. That's it! No API keys needed - browser fetching is free.
#
# HOW IT WORKS:
#   - When following links from search results, if the domain is in the
#     protected list above, Playwright launches a headless browser
#   - If a regular fetch returns 403/blocked, it automatically retries
#     with the browser
#   - Browser instance is shared and auto-closes after 60s idle
#
# LIMITATIONS:
#   - No login support: Can't access paywalled/subscriber-only content
#   - No cookie persistence: Each session starts fresh
#   - Most obituaries are free: Usually works for death-related articles
#
# TROUBLESHOOTING:
#   - "Browser not found": Run `npx playwright install chromium`
#   - "Executable not found": Set BROWSER_EXECUTABLE_PATH to your Chrome
#   - Still blocked: Site may require login (not supported)
#   - Slow fetches: Browser rendering takes 2-5 seconds per page

# Enable browser-based fetching (default: true)
# Set to false to disable browser fallback entirely
# BROWSER_FETCH_ENABLED=true

# Run browser in headless mode (default: true)
# Set to false for debugging to see the browser window
# BROWSER_FETCH_HEADLESS=true

# Path to browser executable (optional)
# By default, uses the Playwright-installed Chromium
# Set this if you want to use a different Chrome/Chromium installation
# BROWSER_EXECUTABLE_PATH=/path/to/chrome
