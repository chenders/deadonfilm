# Dead on Film Production Environment Variables
# Copy to /opt/deadonfilm/.env on the server

# Required - TMDB API
TMDB_API_TOKEN=your_tmdb_api_token_here

# Required - Database (PostgreSQL container)
# NOTE: Password must not contain URL-special characters (@, :, /, #) as it's used in DATABASE_URL
POSTGRES_USER=deadonfilm
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=deadonfilm

# Required - Anthropic API (for cause of death lookup)
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# ============================================================================
# ADMIN SECTION
# ============================================================================

# Required - Admin password hash (bcrypt, 10 rounds)
# Generate with: node -e "console.log(require('bcrypt').hashSync('your-password', 10))"
# IMPORTANT: Never commit the actual password, only the hash
ADMIN_PASSWORD_HASH=your_bcrypt_hash_here

# Required - JWT secret for admin session tokens (random string, 32+ characters)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_random_secret_here

# ============================================================================
# NEW RELIC MONITORING
# ============================================================================

# Required - APM License Key
# Get yours at: https://one.newrelic.com/launcher/api-keys-ui.api-keys-launcher
# Free tier: 100GB logs/month, full APM features
NEW_RELIC_LICENSE_KEY=your_license_key_here

# Application name (appears in New Relic UI)
NEW_RELIC_APP_NAME=Dead on Film

# Optional - New Relic agent logging level (default: warn)
# Options: fatal, error, warn, info, debug, trace
# NEW_RELIC_LOG_LEVEL=warn

# ============================================================================
# NEW RELIC INFRASTRUCTURE MONITORING
# ============================================================================

# Same license key used by infrastructure agent in docker-compose.yml
# Set in main .env file, referenced in docker-compose.yml as:
# NRIA_LICENSE_KEY=${NEW_RELIC_LICENSE_KEY}

# Optional - IndexNow for Bing sitemap submission (UUID format)
INDEXNOW_KEY=your-uuid-key-here

# Frontend (Vite) - These are passed as Docker build args, not runtime env vars
# Add these as GitHub repository secrets:
# - VITE_GA_MEASUREMENT_ID: Google Analytics measurement ID (e.g., G-XXXXXXXXXX)
# - VITE_NEW_RELIC_BROWSER_LICENSE_KEY: New Relic Browser license key
# - VITE_NEW_RELIC_BROWSER_APP_ID: New Relic Browser application ID
# - VITE_NEW_RELIC_BROWSER_ACCOUNT_ID: New Relic account ID
