integrations:
  - name: nri-redis
    env:
      # Redis connection via host (privileged agent can't use Docker DNS)
      # host.docker.internal is Docker's alias for the host machine
      HOSTNAME: host.docker.internal
      PORT: 6379
      # No password needed (internal Docker network)

      # Collection settings
      KEYS: '["*"]'  # Collect keyspace metrics for all databases
      KEYS_LIMIT: 30  # Limit number of keys (cardinality control)
      TIMEOUT: 10

    interval: 15s
    labels:
      env: production
      role: cache
    inventory_source: config/redis
